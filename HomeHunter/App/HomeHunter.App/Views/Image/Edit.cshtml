@model HomeHunter.Models.BindingModels.Image.ImageUploadEditBindingModel
@using Microsoft.AspNetCore.Mvc;
@using Microsoft.AspNetCore.Razor.TagHelpers;
@addTagHelper *, HomeHunter.App;

@{
    ViewData["Title"] = "Edit";
    Layout = "~/Views/Shared/_Layout.cshtml";

}

<link rel="stylesheet" href="~/lib/assets/upload_image.css">
<br />
<div class="row paddingElement">
    <div class="container d-flex justify-content-center">

        <h4 style="text-align:center">Добавяне на нови снимки</h4>
        <div class="row">
            @if (Model.AlreadyUploadedImagesCount > 0)
            {
                <p style="text-align:center">Можете да добавите още @(12 - Model.AlreadyUploadedImagesCount) снимки!</p>
            }
            else
            {
                <p style="text-align:center">Не може да добавяте повече снимки!</p>
            }

        <form method="post" class="wrapper overflow-y-auto" enctype="multipart/form-data">

            @for (int i = 0; i < 12 - Model.AlreadyUploadedImagesCount; i += 4)
            {
                @for (int j = i; j < i + 4; j++)
                {
                    if (j < 12 - Model.AlreadyUploadedImagesCount)
                    {
                        <div class="sm-upl-box">
                            <div class="sm-js--image-preview"></div>
                            <div class="sm-upload-options">
                                <label>
                                    <input type="file" asp-for="Images" class="image-upload" accept="image/*" />
                                </label>
                            </div>
                        </div>
                    }

                }
            }
            <vc:load-images real-estate-id=@Model.RealEstateId></vc:load-images>
            <div class="offset-md-2 empty" style="padding-top:30px">
                <input type="submit" value="Качи снимки" class="btn btn-blue-h" />
            </div>
        </form>
            
        </div>
    </div>
</div>


@section Scripts{

    <script src='//production-assets.codepen.io/assets/common/stopExecutionOnTimeout-b2a7b3fe212eaa732349046d8416e00a9dec26eb7fd347590fbced3ab38af52e.js'></script>

    <script src="~/js/small-image-upload.js" asp-append-version="true"></script>
}



